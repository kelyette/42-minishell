Bugs:
- exit code in executor.
- leak when exit.
- $PWD would need to check if path is a directory.
