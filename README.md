Bugs:
- exit code in executor.
- leak when exit.
- leak when ctrl-D.
